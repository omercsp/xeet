{
	"variables":{
		"base_cmd": "{{XEET_ROOT}}/../xeet --no-colors",
		"run_cmd": "{{base_cmd}} run -c testbed/xeet.yaml",
		"list_cmd": "{{base_cmd}} list -c testbed/xeet.yaml",
		"info_cmd": "{{base_cmd}} info -c testbed/xeet.yaml",
		"run_output_base_cmd": "{{run_cmd}} -g passing -X inheritance -z 004 -z 008 -Z 003 -Z 031"
	},
	"tests": [
		{
			"name": "test_base",
			"cwd": "{{XEET_ROOT}}",
			"env": {
				"XEET_ROOT": "{{XEET_ROOT}}",
				"TEST_NAME": "{{XEET_TEST_NAME}}",
				"XEET_DEBUG": "{{XEET_TEST_DEBUG}}",
				"TEST_OUTPUT_DIR": "{{XEET_TEST_OUTPUT_DIR}}"
			},
			"verify_cmd": "scripts/dflt_output_compare.sh",
			"abstract": true
		},
		{
			"name": "001_all",
			"base": "test_base",
			"short_desc": "Test sanity for development code",
			"test_cmd": "{{run_cmd}}",
			"allowed_return_codes": [3],
			"groups": ["sanity", "multi"]
		},
		{
			"name": "002_single_test_pass",
			"base": "test_base",
			"short_desc": "Test single group,passing",
			"test_cmd": "{{run_cmd}} -t 001_pass",
			"groups": ["sanity", "single"]
		},
		{
			"base": "test_base",
			"name": "003_single_test_fail",
			"short_desc": "Test single group,passing",
			"allowed_return_codes": [1],
			"test_cmd": "{{run_cmd}} -t 003_fail_over_output",
			"groups": ["sanity", "single"]
		},
		{
			"name": "004_single_group_passing",
			"base": "test_base",
			"short_desc": "Test single group,passing",
			"test_cmd": "{{run_cmd}} -g passing",
			"groups": ["sanity", "group"]
		},
		{
			"name": "005_single_group_not_run",
			"base": "test_base",
			"short_desc": "Test single group, not running",
			"test_cmd": "{{run_cmd}} -g not_run",
			"allowed_return_codes": [2],
			"groups": ["sanity", "group", "not-run"]
		},
		{
			"name": "006_single_group_failing",
			"base": "test_base",
			"short_desc": "Test single group, failing",
			"test_cmd": "{{run_cmd}} -g failing",
			"allowed_return_codes": [1],
			"groups": ["sanity", "group"]
		},
		{
			"name": "007_pass_and_skip",
			"base": "test_base",
			"short_desc": "Two tests, 1st should pass, 2nd should be skipped",
			"test_cmd": "{{run_cmd}} -t 001_pass -t 006_skip",
			"groups": ["sanity"]
		},
		{
			"name": "008_fail_and_not_run",
			"base": "test_base",
			"short_desc": "Two tests, 1st should fail, 2nd shouldn't run",
			"test_cmd": "{{run_cmd}} -t 004_fail_over_rc -t 008_bad_desc",
			"allowed_return_codes": [3],
			"groups": ["sanity"]
		},
		{
			"name": "009_pass_and_not_run_groups",
			"base": "test_base",
			"test_cmd": "{{run_cmd}} -g passing -g not_run",
			"allowed_return_codes": [2],
			"groups": ["sanity", "group"]
		},
		{
			"name": "010_threads_sanity",
			"base": "test_base",
			"shell": true,
			"test_cmd": "{{run_cmd}} --threads=4 --no-summary --concise | sort",
			"groups": ["sanity", "group"]
		},
		{
			"name": "200_list_tests",
			"base": "test_base",
			"short_desc": "Test list command",
			"test_cmd": "{{list_cmd}}",
			"groups": ["list"]
		},
		{
			"name": "201_list_tests_all",
			"base": "test_base",
			"short_desc": "Test list command, including abstract tests",
			"test_cmd": "{{list_cmd}} -a",
			"groups": ["list"]
		},
		{
			"name": "202_list_tests_group",
			"base": "test_base",
			"short_desc": "Test list command with group",
			"test_cmd": "{{list_cmd}} -g 'not_run'",
			"groups": ["list"]
		},
		{
			"name": "203_list_tests_2groups",
			"base": "test_base",
			"test_cmd": "{{list_cmd}} -g 'not_run' -g 'failing'",
			"groups": ["list", "group"]
		},
		{
			"name": "204_list_tests_exclude",
			"base": "test_base",
			"test_cmd": "{{list_cmd}} -g 'passing' -X 'bad_post'",
			"groups": ["list", "group"]
		},
		{
			"name": "205_test_info",
			"base": "test_base",
			"test_cmd": "{{info_cmd}} -t 031_for_info",
			"groups": ["info"]
		},
		{
			"name": "206_test_info_expanded",
			"base": "test_base",
			"test_cmd": "{{info_cmd}} -xt 031_for_info",
			"groups": ["info"]
		},
		{
			"name": "207_test_info_full_expanded",
			"base": "test_base",
			"test_cmd": "{{info_cmd}} -xft 031_for_info",
			"groups": ["info"]
		},
		{
			"name": "300_default_output",
			"base": "test_base",
			"test_cmd": "{{run_output_base_cmd}}",
			"groups": ["output"],
			"allowed_return_codes": [3]
		},
		{
			"name": "301_default_output_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} -r 3",
			"groups": ["output"]
		},
		{
			"name": "302_default_output_summary_only",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --summary-only",
			"groups": ["output"]
		},
		{
			"name": "303_default_output_summary_only_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --summary-only -r 3",
			"groups": ["output"]
		},
		{
			"name": "304_concise_output",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --concise",
			"groups": ["output"]
		},
		{
			"name": "305_concise_output_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --concise -r 3",
			"groups": ["output"]
		},
		{
			"name": "306_concise_output_summary_only",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --concise --summary-only",
			"groups": ["output"]
		},
		{
			"name": "307_concise_output_summary_only_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --concise --summary-only -r 3",
			"groups": ["output"]
		},
		{
			"name": "308_verbose_output",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --verbose",
			"groups": ["output"]
		},
		{
			"name": "309_verbose_output_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --verbose -r 3",
			"groups": ["output"]
		},
		{
			"name": "310_verbose_output_summary_only",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --verbose --summary-only",
			"groups": ["output"]
		},
		{
			"name": "311_verbose_output_summary_only_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --verbose --summary-only -r 3",
			"groups": ["output"]
		},
		{
			"name": "312_quiet_output",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --quiet",
			"groups": ["output"]
		},
		{
			"name": "313_quiet_output_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --quiet -r 3",
			"groups": ["output"]
		},
		{
			"name": "314_quiet_output_summary_only",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --quiet --summary-only",
			"groups": ["output"]
		},
		{
			"name": "315_quiet_output_summary_only_r3",
			"base": "300_default_output",
			"test_cmd": "{{run_output_base_cmd}} --quiet --summary-only -r 3",
			"groups": ["output"]
		},
		{
			"name": "316_debug_output_passing_simple",
			"base": "test_base",
			"verify_cmd": "scripts/diff_xeet_debug_output.sh",
			"test_cmd": "{{run_cmd}} -z 001 --debug",
			"groups": ["output", "debug"]
		},
		{
			"name": "317_debug_output_failing_output",
			"base": "test_base",
			"verify_cmd": "scripts/diff_xeet_debug_output.sh",
			"test_cmd": "{{run_cmd}} -z 003 --debug",
			"allowed_return_codes": [1],
			"groups": ["output", "debug"]
		}
	]
}
